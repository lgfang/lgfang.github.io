---
layout: post
title: Drawing Diagrams in Org Mode
tagline: Ditaa and PlantUML
categories: computer
tags: [org-mode, emacs]
---

<p>
We can draw ascii diagrams or script UML diagrams in org-mode and org-mode will
covert them into PNG pictures. "Scripting" diagrams is usually much more
efficient than doing that in GUI applications. Also, we can easily modify these
pictures since we have the "source code" of them.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">What's Ditaa</h2>
<div class="outline-text-2" id="text-1">
<p>
Ditaa(<a href="http://ditaa.sourceforge.net/">home</a>) is a jar which converts ascii arts into diagrams.
</p>

<div class="org-src-container">

<pre class="src src-ditaa">+--------+   +-------+    +-------+
|        | --+ ditaa +--&gt; |       |
|  Text  |   +-------+    |diagram|
|Document|   |!magic!|    |       |
|     {d}|   |       |    |       |
|        |   |       |    |       |
|cBLU    |   |cBLK   |    |cGRE   |
+---+----+   +-------+    +-------+
    :                         ^
    |       Lots of work      |
    +-------------------------+
</pre>
</div>


<div class="figure">
<p><img src="http://lgfang.github.io/images/ditaa-example.png" alt="ditaa-example.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">What's PlantUML</h2>
<div class="outline-text-2" id="text-2">
<p>
<a href="http://plantuml.sourceforge.net">PlantUML</a>(<a href="http://lib.custis.ru/images/c/c4/PlantUML_Language_Reference_Guide.pdf">User Guide</a>) allows us to "script" UML diagram in Emacs.
</p>

<div class="org-src-container">

<pre class="src src-plantuml">hide footbox
title Sequence Diagram (Footer removed)

Alice -&gt; Bob: Authentication Request
Bob --&gt; Alice: Authentication Response
</pre>
</div>


<div class="figure">
<p><img src="http://lgfang.github.io/images/plantuml-seq.png" alt="plantuml-seq.png" />
</p>
</div>

<div class="org-src-container">

<pre class="src src-plantuml">title Hello World
scale 600 width
note "An Example of Class Diagram" as NOTE1

interface Interface {
    public void method1();
    public void method2();
}

class NullObject extends Interface
note bottom of NullObject: refer to design patter "null object"

abstract class BaseClass implements Interface {
    private int flag;
    protected void helper(){...}
}

class Concrete1 extends BaseClass
class Concrete2 extends BaseClass
</pre>
</div>


<div class="figure">
<p><img src="http://lgfang.github.io/images/plantuml-cls.png" alt="plantuml-cls.png" />
</p>
</div>


<div class="figure">
<p><img src="http://lgfang.github.io/images/git-gerrit-workflow.png" alt="git-gerrit-workflow.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">More resources</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li><a href="http://lgfang.github.io/images/../mynotes/emacs/org-diagram-settings.html">How I set up Emacs/OrgMode for this</a>
</li>
<li><a href="http://orgmode.org/worg/org-contrib/babel/languages/ob-doc-ditaa.html">ditaa in org mode</a>
</li>
<li><a href="http://emacser.com/artist-mode.htm">draw ascii graphs in emacs</a>
</li>
<li><a href="http://www.cinsk.org/emacs/emacs-artist.html">a demo of artist mode</a>
</li>
</ul>
</div>
</div>
