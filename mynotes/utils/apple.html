<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Notes on Apple Products</title>
<!-- 2016-09-23 Fri 08:39 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Fang Lungang" />
<link rel="stylesheet" type="text/css" href="../cssjs/lgfang.css" />

<script type="text/javascript" src="../cssjs/org-info.js">
/**
 *
 * @source: ../cssjs/org-info.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in ../cssjs/org-info.js.
 *
 * Copyright (C) 2012-2013 Free Software Foundation, Inc.
 *
 *
 * The JavaScript code in this tag is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in ../cssjs/org-info.js.
 *
 */
</script>

<script type="text/javascript">

/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/

<!--/*--><![CDATA[/*><!--*/
org_html_manager.set("TOC_DEPTH", "2");
org_html_manager.set("LINK_HOME", "../../index.html");
org_html_manager.set("LINK_UP", "../index.html");
org_html_manager.set("LOCAL_TOC", "0");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "showall");
org_html_manager.setup();  // activate after the parameters are set
/*]]>*///-->
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div class="container-narrow">
<div id="content">
<h1 class="title">Notes on Apple Products</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">MacBook Pro</a>
<ul>
<li><a href="#sec-1-1">Installation and Customization</a>
<ul>
<li><a href="#sec-1-1-1">Configure System Preferences</a></li>
<li><a href="#sec-1-1-2">Install homebrew</a></li>
<li><a href="#sec-1-1-3">Configure Terminal</a></li>
<li><a href="#sec-1-1-4">Remap modifier keys</a></li>
<li><a href="#sec-1-1-5">Use latest BASH</a></li>
<li><a href="#sec-1-1-6">Use GNU version of coreutils (ls, rm etc.) instead of BSD version</a></li>
<li><a href="#sec-1-1-7">Use iTerm2</a></li>
<li><a href="#sec-1-1-8">Frequently used software</a></li>
</ul>
</li>
<li><a href="#sec-1-2">Tips</a>
<ul>
<li><a href="#sec-1-2-1">Shortcuts</a></li>
<li><a href="#sec-1-2-2">Put notes to cloud</a></li>
<li><a href="#sec-1-2-3">Read/write ext2 files systems</a></li>
<li><a href="#sec-1-2-4">Share pictures and documents among Mac and iphone</a></li>
</ul>
</li>
<li><a href="#sec-1-3">Troubles and solutions</a>
<ul>
<li><a href="#sec-1-3-1">Disable Dashboard</a></li>
<li><a href="#sec-1-3-2">ssh warns cannot change locale to UTF-8</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2">APPS</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">MacBook Pro</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Installation and Customization</h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1">Configure System Preferences</h4>
<div class="outline-text-4" id="text-1-1-1">
<ul class="org-ul">
<li>Sharing -&gt; Computer Name
</li>
<li>General -&gt; Show scroll bars -&gt; check "When scrolling"
</li>
<li>Trackpad -&gt; Point &amp; Click -&gt; adjust "Tracking speed"
</li>
<li>Keyboard -&gt; keyboard -&gt; check "Use all F1, F2, &#x2026;"
</li>
<li>Keyboard -&gt; keyboard -&gt; Modifers Keys
</li>
<li>Keyboard -&gt; keyboard -&gt; adjust "Key Repeat"
</li>
<li>Mouse -&gt; uncheck "Scroll direction: nature"
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-1-2" class="outline-4">
<h4 id="sec-1-1-2">Install homebrew</h4>
<div class="outline-text-4" id="text-1-1-2">
<ul class="org-ul">
<li>Why: <a href="http://tedwise.com/2010/08/28/homebrew-vs-macports/">http://tedwise.com/2010/08/28/homebrew-vs-macports/</a>
</li>
<li>How
<ol class="org-ol">
<li>Install Xcode from APP store and run it to agree Xcode license.
</li>
<li>Install Xcode Command line tool
<div class="org-src-container">

<pre class="src src-shell-script">xcode-select --install
xcode-select -p
</pre>
</div>
</li>

<li>Install homebrew according to <a href="http://brew.sh">http://brew.sh</a>
</li>
</ol>
</li>
</ul>

<p>
NOTE: Don't overwrite system default apps, they will be overwritten by
future MAC system upgrades.
</p>
</div>
</div>

<div id="outline-container-sec-1-1-3" class="outline-4">
<h4 id="sec-1-1-3">Configure Terminal</h4>
<div class="outline-text-4" id="text-1-1-3">
<ul class="org-ul">
<li>Terminal -&gt; Preferences -&gt; Profiles -&gt; Shell -&gt; When the shell exits: close
the window
</li>

<li>Terminal -&gt; Preferences -&gt; Profiles -&gt; Keyboard -&gt; Use option key as meta
key
</li>

<li>Restart Terminal(<code>âŒ˜ Q</code> to quit and then launch it again)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-1-4" class="outline-4">
<h4 id="sec-1-1-4">Remap modifier keys</h4>
<div class="outline-text-4" id="text-1-1-4">
<p>
Install Karabiner (was KeyRemap4MacBook):
<a href="https://pqrs.org/osx/karabiner/index.html.en">https://pqrs.org/osx/karabiner/index.html.en</a>
</p>

<p>
NOTE: no need to permit accesibility control
</p>

<ul class="org-ul">
<li>left command -&gt; left option
</li>
<li>left option -&gt; left command
</li>
<li>right option -&gt; right control
</li>
<li>right command -&gt; right option
</li>
<li>change external mouse scroll direction the same as windows
<ul class="org-ul">
<li>Change Key &gt; Karabiner core settings -&gt; Exclude Devices &gt; Don't remap
Apple's pointing devices
</li>
<li>Change Key &gt; Pointing Device &gt; Reverse Scrolling Direction -&gt; Reverse
Vertical Scrolling
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-1-5" class="outline-4">
<h4 id="sec-1-1-5">Use latest BASH</h4>
<div class="outline-text-4" id="text-1-1-5">
<ul class="org-ul">
<li><code>brew install bash</code>
</li>
<li>Add <code>/usr/local/bin/bash</code> to <code>/etc/shells</code>
</li>
<li><code>chsh</code> to change default shell
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-1-6" class="outline-4">
<h4 id="sec-1-1-6">Use GNU version of coreutils (ls, rm etc.) instead of BSD version</h4>
<div class="outline-text-4" id="text-1-1-6">
<p>
<a href="https://www.topbug.net/blog/2013/04/14/install-and-use-gnu-command-line-tools-in-mac-os-x/">https://www.topbug.net/blog/2013/04/14/install-and-use-gnu-command-line-tools-in-mac-os-x/</a>
</p>

<ul class="org-ul">
<li>Run brew install
<div class="org-src-container">

<pre class="src src-shell-script">brew install coreutils
brew install binutils
brew install findutils
brew install diffutils
brew install gawk gnu-sed gnu-tar gnu-which
brew install grep
</pre>
</div>

<p>
NOTE: Without <code>--with-default-names</code>, a <code>g</code> will be prepended to the
commands, i.e. <code>gsed</code> instead of <code>sed</code>.
</p>
</li>

<li>Modify <code>PATH</code> and <code>MANPATH</code> according to screen prompt.
</li>
<li>re-login
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-1-7" class="outline-4">
<h4 id="sec-1-1-7">Use iTerm2</h4>
<div class="outline-text-4" id="text-1-1-7">
<ul class="org-ul">
<li>Why:
<ul class="org-ul">
<li>The fonts of the built-in terminal emulator are ugly on external
displays (otherwise, it works perfect for me). I tried some fixes found on
internet without luck.
</li>
<li>You may like the many features iTerm2 prvoides (though I don't need).
</li>
</ul>
</li>
<li>Install: download, copy the 'iTerm.app' to /Applications
</li>
<li>Configure: 
<ul class="org-ul">
<li>option keys: Preferences -&gt; Profiles -&gt; Keys -&gt; make option keys act as
"+Esc"
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-1-8" class="outline-4">
<h4 id="sec-1-1-8">Frequently used software</h4>
<div class="outline-text-4" id="text-1-1-8">
<div class="org-src-container">

<pre class="src src-shell-script">brew install tmux ccrypt

brew install --with-cocoa -srgb emacs <span class="org-sh-escaped-newline">\</span>
    &amp;&amp; ln -s /usr/local/Cellar/emacs/24.5/Emacs.app /Applications

<span class="org-comment-delimiter"># </span><span class="org-comment">install pip</span>
sudo easy_install pip
pip --version
sudo pip install --upgrade pip

<span class="org-comment-delimiter"># </span><span class="org-comment">dev</span>
brew install cscope
sudo pip install pylint pycscope

<span class="org-comment-delimiter"># </span><span class="org-comment">for flac2apple</span>
brew install flac lame ffmpeg mp4v2

<span class="org-comment-delimiter"># </span><span class="org-comment">Download and install Calibre, then run the following command to use its</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">ebook-viewer without starting calibre</span>
ln -s /Applications/calibre.app/Contents/ebook-viewer.app /Applications/

brew install aspell wakeonlan wget
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Tips</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1">Shortcuts</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
<a href="https://support.apple.com/en-us/HT201236">https://support.apple.com/en-us/HT201236</a>
</p>

<ul class="org-ul">
<li>Most <code>Control</code>-based shortcuts in Windows and Linux will work with
<code>Command</code> in OSX. For instances:

<ul class="org-ul">
<li>Copy/paste: Control-c/v =&gt; Command-c/v
</li>

<li>Select multiple menu items: Control-click =&gt; Command-click
</li>
</ul>
</li>

<li>Full screen: Command-Control-F
</li>

<li>Go to path in Finder: Command-Shift-G
</li>

<li>Screenshot

<ul class="org-ul">
<li>Full screen: Command-Shift-3
</li>

<li>Rectangle or window: Command-Shift-4 then press space to switch between
rectangle and window.
</li>

<li>Find the screenshot on desktop.
</li>
</ul>
</li>

<li>Lock screen: Command-Shift-Power
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2">Put notes to cloud</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
This not only facilitates sync-ing my notes among hosts but also avoids
losing all my notes because of SSD failure.
</p>

<ul class="org-ul">
<li>To setup up

<p>
Do the following on MacBook:
</p>
<ol class="org-ol">
<li>Turn on "icoud drive"
</li>
<li>Open "Finder", drag(move) "mynotes" folder to icloud drive.
</li>
<li>Open "Terminal", ln the icloud drive to whereever you want. E.g.:
<div class="org-src-container">

<pre class="src src-shell-script"><span class="org-builtin">cd</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">drag a icloud drive folder/file from Finder into Terminal to see its path</span>
ln -s /Users/lgfang/Library/Mobile<span class="org-string">\ </span>Documents/com<span class="org-string">\~</span>apple<span class="org-string">\~</span>CloudDocs/mynotes
ln -s /Users/lgfang/Library/Mobile<span class="org-string">\ </span>Documents/com<span class="org-string">\~</span>apple<span class="org-string">\~</span>CloudDocs/myblog
</pre>
</div>
</li>
</ol>
</li>

<li>Usage
<ul class="org-ul">
<li>Seems that on MacBook, the folders are locally cached. Hence, we can
access even without access to icloud server.
</li>
<li>On other host, either install the icloud software or access using web
browser.
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3">Read/write ext2 files systems</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
Install a virtual linux
<a href="http://www.cyberciti.biz/faq/mac-os-x-read-ext3-ext4-external-usb-hard-disk-partition/">http://www.cyberciti.biz/faq/mac-os-x-read-ext3-ext4-external-usb-hard-disk-partition/</a>
</p>
</div>
</div>

<div id="outline-container-sec-1-2-4" class="outline-4">
<h4 id="sec-1-2-4">Share pictures and documents among Mac and iphone</h4>
<div class="outline-text-4" id="text-1-2-4">
<p>
Click "share" then choose "airdrop", you will see your other devices.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">Troubles and solutions</h3>
<div class="outline-text-3" id="text-1-3">
</div><div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1">Disable Dashboard</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
Once it is started, F12 is bound to going to dashboard globally. This is
annoying since I use F12 for tmux prefix key.
</p>

<p>
To disable it, System Preferences -&gt; Mission Control -&gt; Dashboard: off
</p>

<p>
Or, change key bindings in the same configuration page.
</p>
</div>
</div>

<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2">ssh warns cannot change locale to UTF-8</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
<a href="http://www.cyberciti.biz/faq/os-x-terminal-bash-warning-setlocale-lc_ctype-cannot-change-locale">http://www.cyberciti.biz/faq/os-x-terminal-bash-warning-setlocale-lc_ctype-cannot-change-locale</a>
</p>

<p>
This is because that the OS X Terminal set LC_CTYPE to UTF-8, which is not
supported in many Linux distro.
</p>

<ul class="org-ul">
<li>Solution one: Make OS X Terminal do not set LC_CTYPE

<p>
Terminal &gt; Preferences &gt; Terminal profile being used, say "Basic" &gt;
Advanced: uncheck 'Set locale environment variables on startup'.
</p>

<p>
NOTE: Need to restart Terminal
</p>
</li>

<li>Solution two: Configure open-ssh to not send locale to remote

<p>
vi <code>/etc/ssh/ssh_config</code> or <code>~/.ssh/config</code> to comment out this line:
</p>

<pre class="example">
SendEnv LANG LC_*
</pre>
</li>

<li>Solution three: on remote, install the locale or make it an alias to an
existing locale. TODO:
</li>

<li>Solution four: everytime ssh to remote, unset LC_CTYPE manually.
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">APPS</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>CamScanner Free : Take a picture of your hardcopy document and convert it to
PDF and OCR.
<a href="https://itunes.apple.com/au/app/camscanner-free-pdf-document/id388627783?mt=8">https://itunes.apple.com/au/app/camscanner-free-pdf-document/id388627783?mt=8</a>
</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">

     <br/>
     <p>
     <span class="date">Created: 2016-09-23 Fri 08:39</span> by <span class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.1.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</span>
     </p>

     <!-- DISQUS  -->
     <div id="disqus_thread"></div>
     <script type="text/javascript">
         /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
         var disqus_shortname = 'lgfang'; // required: replace example with your forum shortname

         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
     </script>
     <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
     <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

     <!-- google analytic -->
     <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-84711243-1', 'auto');
       ga('send', 'pageview');

     </script>
</div>
</div>
</body>
</html>
